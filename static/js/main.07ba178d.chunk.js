(this["webpackJsonpassistantapps-memedeck"]=this["webpackJsonpassistantapps-memedeck"]||[]).push([[0],{188:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var i,l=n(24),c=n.n(l),a=n(2),o=n(13),s=n(25),d=n(61),r=n(66),u=n(65),f=n(1),b=n.n(f),h=n(62),p=n(64);!function(e){e[e.image=0]="image",e[e.video=1]="video",e[e.text=2]="text"}(i||(i={}));var j=n(26),v=n.n(j),x=function e(){Object(s.a)(this,e)};x.width=200,x.zIndex=1;var m=n(0),g=function(e){return Object(m.jsx)("img",{src:URL.createObjectURL(e.file),onContextMenu:e.onChildClick,onClick:e.onChildClick,draggable:!1,alt:e.file.name})},O=function(e){return Object(m.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,onContextMenu:e.onChildClick,onClick:e.onChildClick,children:Object(m.jsx)("source",{src:URL.createObjectURL(e.file),type:"video/mp4",draggable:!1})})},S=n(7),C=n(63),F=n.n(C),k=n(36),D=n.n(k),I={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},y=function(e){var t=b.a.useState(!1),n=Object(S.a)(t,2),i=n[0],l=n[1],c=function(){l(!1)};return Object(m.jsxs)(m.Fragment,{children:[e.openModalRenderer((function(){l(!0)})),Object(m.jsxs)(D.a,{isOpen:i,onRequestClose:c,style:I,contentLabel:e.title,children:[e.children,e.showSaveButton&&Object(m.jsx)("button",{className:"button",onClick:c,children:"Save"})]})]})},U=function(e){var t,n=null===(t=e.file)||void 0===t?void 0:t.text,i=Object(f.useState)(null!==n&&void 0!==n?n:"Something funny"),l=Object(S.a)(i,2),c=l[0],o=l[1];return Object(m.jsx)(y,{title:"Edit Text",className:"text-modal",showSaveButton:!0,openModalRenderer:function(t){return Object(m.jsx)("div",{className:"text",onClick:e.onChildClick,onContextMenu:(n=t,function(t){var i;t.preventDefault(),e.isSelected&&(null===e||void 0===e||null===(i=e.onChildClick)||void 0===i||i.call(e,Object(a.a)(Object(a.a)({},t),{},{isContextMenuClick:!0}))),n()}),children:Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})});var n},children:Object(m.jsx)(F.a,{theme:"snow",value:c,onChange:o,modules:{toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{color:["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466","custom-color"]}]]}},formats:["header","font","size","bold","italic","underline","list","bullet","color"]})})},_=function(e){var t=e.uuid,n=e.isSelected,l=e.clientX,c=e.clientY,a=e.media,o=e.zIndex,s={top:c,left:l,width:x.width,zIndex:o},d=function(l){return function(c){var a,o,s;(null===c||void 0===c||null===(a=c.preventDefault)||void 0===a||a.call(c),l===i.text&&n&&c.isContextMenuClick)?null===e||void 0===e||null===(s=e.setSelectedFile)||void 0===s||s.call(e,""):n||null===e||void 0===e||null===(o=e.setSelectedFile)||void 0===o||o.call(e,t)}},r=Object(m.jsx)("div",{children:"Something went wrong"});return a===i.image&&(r=Object(m.jsx)(g,{file:e.file,onChildClick:d(i.image)})),a===i.video&&(r=Object(m.jsx)(O,{file:e.file,onChildClick:d(i.video)})),a===i.text&&(r=Object(m.jsx)(U,{file:e.file,isSelected:n,onChildClick:d(i.text)})),Object(m.jsxs)("div",{className:v()("uploaded-media","noselect",{selected:n}),style:s,children:[r,Object(m.jsx)("div",{className:"meta noselect",children:n&&Object(m.jsxs)("span",{className:"abs-top-right noselect",children:["z-index:\xa0",o.toString()]})})]},"uploadedImg-".concat(t))},z=function(e){var t,n=null,l=Object(h.a)(e.files);try{for(l.s();!(t=l.n()).done;){var c=t.value;c.uuid===e.selectedFileUuid&&(n=Object(a.a)({},c))}}catch(o){l.e(o)}finally{l.f()}return Object(m.jsxs)("div",{className:"deck-items",children:[e.files.map((function(t){return Object(m.jsx)(_,Object(a.a)(Object(a.a)({},t),{},{isSelected:t.uuid===e.selectedFileUuid,setSelectedFile:e.setSelectedFile}),t.uuid)})),null!=n&&Object(m.jsx)(p.a,{target:".selected",className:"noselect",individualGroupable:!0,container:null,origin:!1,edge:!1,draggable:!0,throttleDrag:0,onDrag:function(e){var t=e.target,n=e.transform;t.style.transform=n},keepRatio:n.media!==i.text,resizable:!0,throttleResize:0,onResize:function(e){var t=e.target,n=e.width,i=e.height,l=e.delta;l[0]&&(t.style.width="".concat(n,"px")),l[1]&&(t.style.height="".concat(i,"px"))},rotatable:!0,throttleRotate:0,onRotate:function(e){var t=e.target,n=e.transform;t.style.transform=n}},"movable-".concat(n.uuid))]},"container")},w=n(193),R={image:["png","jpg","gif"],video:["mp4","mkv"]},M=function(e){try{var t=/(?:\.([^.]+))?$/.exec(e);return null==t?null:t[1]}catch(n){return null}},N=function(e){var t=Object(f.useState)(!1),n=Object(S.a)(t,2),l=n[0],c=n[1],a=function(t){e.addFile({file:{text:t},media:i.text,uuid:Object(w.a)(),clientX:250,clientY:250,zIndex:x.zIndex})},o=function(t,n,l){for(var c=0;c<t.length;c++){var a=t[c],o=a;"file"===a.kind&&(o=a.getAsFile());var s=M(o.name),d=!1;null!=s&&(d=R.video.includes(s)),e.addFile({file:o,media:d?i.video:i.image,uuid:Object(w.a)(),clientX:n,clientY:l,zIndex:x.zIndex})}};return Object(m.jsx)("div",{className:v()("drag-drop-zone",{"drag-is-over":l}),onDragEnter:function(){return c(!0)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDragLeave:function(){return c(!1)},onDrop:function(e){e.preventDefault(),e.dataTransfer.items&&o(e.dataTransfer.items,e.clientX,e.clientY),c(!1),e.stopPropagation()},onPaste:function(e){e.preventDefault();var t=e.clipboardData&&e.clipboardData.files&&e.clipboardData.files.length,n=e.clipboardData.types&&e.clipboardData.types.includes("text/plain");if(t||n){if(t&&e.clipboardData.files&&o(e.clipboardData.files,250,250),n&&e.clipboardData){var i,l,c=null===(i=e.clipboardData)||void 0===i||null===(l=i.getData)||void 0===l?void 0:l.call(i,"text/plain");a(c)}e.stopPropagation()}},onDoubleClick:function(){return a()},onClick:e.onClick})},Z=n(186),L=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e))._deselect=function(){return i.setSelectedFile("")},i._deleteFile=function(){null==i.state.selectedFileUuid||i.state.selectedFileUuid.length<10||i.setState((function(e){return{files:Object(o.a)(e.files.filter((function(t){return t.uuid!==e.selectedFileUuid}))),selectedFileUuid:""}}))},i._incZIndex=function(){return i._alterZIndex(1)},i._decZIndex=function(){return i._alterZIndex(-1)},i._alterZIndex=function(e){null==i.state.selectedFileUuid||i.state.selectedFileUuid.length<10||i.setState((function(t){var n=t.files.findIndex((function(e){return e.uuid===t.selectedFileUuid}));if(null==n)return null;var i=t.files[n].zIndex+e;i<=0&&(i=1);var l=Object(a.a)(Object(a.a)({},t.files[n]),{},{zIndex:i});return{files:[].concat(Object(o.a)(t.files.slice(0,n)),[l],Object(o.a)(t.files.slice(n+1)))}}))},i.addFile=function(e){i.setState((function(t){return{files:[].concat(Object(o.a)(t.files),[e])}}))},i.setSelectedFile=function(e){i.setState({selectedFileUuid:e})},i.state={files:[],selectedFileUuid:""},i}return Object(d.a)(n,[{key:"componentWillMount",value:function(){this.props.bindShortcut("esc",this._deselect),this.props.bindShortcut("del",this._deleteFile),this.props.bindShortcut("backspace",this._deleteFile),this.props.bindShortcut("up",this._incZIndex),this.props.bindShortcut("down",this._decZIndex),D.a.setAppElement("#quill-modal")}},{key:"componentWillUnmount",value:function(){this.props.unbindShortcut("esc",this._deselect),this.props.unbindShortcut("del",this._deleteFile),this.props.unbindShortcut("backspace",this._deleteFile),this.props.unbindShortcut("up",this._incZIndex),this.props.unbindShortcut("down",this._decZIndex)}},{key:"render",value:function(){var e=this,t=this.state,n=t.files,i=t.selectedFileUuid;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N,{addFile:this.addFile,onClick:function(){return e.setState({selectedFileUuid:""})}}),Object(m.jsx)(z,{files:n,selectedFileUuid:i,setSelectedFile:this.setSelectedFile})]})}}]),n}(b.a.PureComponent),P=Z.mouseTrap(L);n(188),n(189),n(190);c.a.render(Object(m.jsx)(P,{}),document.getElementById("deck"))}},[[191,1,2]]]);
//# sourceMappingURL=main.07ba178d.chunk.js.map