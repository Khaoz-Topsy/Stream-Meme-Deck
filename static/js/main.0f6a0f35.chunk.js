(this["webpackJsonpassistantapps-memedeck"]=this["webpackJsonpassistantapps-memedeck"]||[]).push([[0],{33:function(e,t,i){},34:function(e,t,i){"use strict";i.r(t);var n,l=i(0),c=i.n(l),a=i(5),d=i.n(a),o=i(9),s=i(8),u=i(13),r=i(14),f=i(18),p=i(17),b=i(2),j=i.n(b),h=i(19),m=i(15),v=i.n(m);!function(e){e[e.image=0]="image",e[e.video=1]="video",e[e.text=2]="text"}(n||(n={}));var g=i(1),O=function(e){return Object(g.jsx)("img",{src:URL.createObjectURL(e.file),onContextMenu:e.onChildClick,draggable:!1,alt:e.file.name})},x=function(e){return Object(g.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,onContextMenu:e.onChildClick,children:Object(g.jsx)("source",{src:URL.createObjectURL(e.file),type:"video/mp4",draggable:!1})})},F=i(16),k=(i(30),function(e){return Object(g.jsx)("div",{onContextMenu:e.onChildClick,children:Object(g.jsx)(F.a,{defaultValue:"Default Text"})})}),C=function(e){var t=e.uuid===e.selectedFile,i=e.uuid,l=e.clientX,c=e.clientY,a=e.media,d={top:t,right:t,bottom:t,left:t,topRight:t,bottomRight:t,bottomLeft:t,topLeft:t},o={x:l,y:c},s=function(n){var l,c;n.preventDefault(),t?null===e||void 0===e||null===(l=e.setSelectedFile)||void 0===l||l.call(e,""):null===e||void 0===e||null===(c=e.setSelectedFile)||void 0===c||c.call(e,i)},u=Object(g.jsx)("div",{children:"Something went wrong"});return a===n.image&&(u=Object(g.jsx)(O,{file:e.file,onChildClick:s})),a===n.video&&(u=Object(g.jsx)(x,{file:e.file,onChildClick:s})),a===n.text&&(u=Object(g.jsx)(k,{onChildClick:s})),Object(g.jsx)(v.a,{handle:".uploaded-media",disabled:t,defaultPosition:o,scale:1,children:Object(g.jsx)(h.a,{defaultSize:{width:200,height:200},enable:d,className:j()("uploaded-media",{selected:t}),children:u},"uploadedImg-".concat(i))})},S=i(36),D={image:["png","jpg","gif"],video:["mp4","mkv"]},U=function(e){try{var t=/(?:\.([^.]+))?$/.exec(e);return null==t?null:t[1]}catch(i){return null}},y=function(e){var t=function(t,i,l){for(var c=0;c<t.length;c++){var a=t[c],d=a;"file"===a.kind&&(d=a.getAsFile());var o=U(d.name),s=!1;null!=o&&(s=D.video.includes(o)),e.addFile({file:d,media:s?n.video:n.image,uuid:Object(S.a)(),clientX:i,clientY:l})}};return Object(g.jsx)("div",{className:"drag-drop-zone",onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){e.preventDefault(),e.dataTransfer.items&&t(e.dataTransfer.items,e.clientX,e.clientY),e.stopPropagation()},onPaste:function(e){e.preventDefault(),e.clipboardData&&e.clipboardData.files&&e.clipboardData.files.length&&(e.clipboardData.files&&t(e.clipboardData.files,250,250),e.stopPropagation())},onDoubleClick:function(){e.addFile({file:{},media:n.text,uuid:Object(S.a)(),clientX:250,clientY:250})},onClick:e.onClick})},P=i(31),L=function(e){Object(f.a)(i,e);var t=Object(p.a)(i);function i(e){var n;return Object(u.a)(this,i),(n=t.call(this,e))._deselect=function(){return n.setSelectedFile("")},n._deleteFile=function(){null==n.state.selectedFileUuid||n.state.selectedFileUuid.length<10||n.setState((function(e){return{files:Object(s.a)(e.files.filter((function(t){return t.uuid!==e.selectedFileUuid}))),selectedFileUuid:""}}))},n.addFile=function(e){n.setState((function(t){return{files:[].concat(Object(s.a)(t.files),[e])}}))},n.setSelectedFile=function(e){n.setState({selectedFileUuid:e})},n.state={files:[],selectedFileUuid:""},n}return Object(r.a)(i,[{key:"componentWillMount",value:function(){this.props.bindShortcut("esc",this._deselect),this.props.bindShortcut("del",this._deleteFile)}},{key:"componentWillUnmount",value:function(){this.props.unbindShortcut("esc",this._deselect),this.props.unbindShortcut("del",this._deleteFile)}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"deck-inner",children:[Object(g.jsx)(y,{addFile:this.addFile,onClick:function(){return e.setState({selectedFileUuid:""})}}),this.state.files.map((function(t){return Object(g.jsx)(C,Object(o.a)(Object(o.a)({},t),{},{selectedFile:e.state.selectedFileUuid,setSelectedFile:e.setSelectedFile}),t.uuid)}))]})}}]),i}(c.a.PureComponent),R=P.mouseTrap(L);i(33);d.a.render(Object(g.jsx)(R,{}),document.getElementById("deck"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0f6a0f35.chunk.js.map